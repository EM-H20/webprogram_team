{"ast":null,"code":"import React,{useEffect,useState,useRef}from'react';import'./Modal.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PlanModal(_ref){let{visible,onClose,onCreate,planName,setPlanName,description,setDescription,uploadedImage,setUploadedImage,imagePreview,setImagePreview}=_ref;const fileInputRef=useRef(null);if(!visible)return null;// 이미지 업로드 버튼 클릭 핸들러\nconst triggerFileInput=()=>{fileInputRef.current.click();};// 이미지 선택 핸들러\nconst handleImageUpload=e=>{const file=e.target.files[0];if(file){// 파일 크기 검사 (최대 5MB로 제한)\nif(file.size>5*1024*1024){alert('이미지 크기는 5MB 이하여야 합니다.');return;}// 파일 타입 검사\nif(!file.type.match('image.*')){alert('이미지 파일만 업로드 가능합니다.');return;}// 이미지를 Base64로 인코딩\nconst reader=new FileReader();reader.onload=event=>{setUploadedImage(event.target.result);// Base64 문자열 저장\nsetImagePreview(event.target.result);// 미리보기용 URL 설정\n};reader.readAsDataURL(file);}};return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add new plan\"}),/*#__PURE__*/_jsx(\"button\",{className:\"modal-close\",onClick:onClose,children:\"\\u2A09\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"modal-label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-input-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uC774\\uB984\",value:planName,onChange:e=>setPlanName(e.target.value)})}),/*#__PURE__*/_jsx(\"label\",{className:\"modal-label\",children:\"Descript\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:\"4\",placeholder:\"\\uC124\\uBA85\",value:description,onChange:e=>setDescription(e.target.value)}),/*#__PURE__*/_jsxs(\"div\",{className:\"plan_image-upload-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"plan_image-preview-container\",onClick:triggerFileInput,children:imagePreview?/*#__PURE__*/_jsx(\"img\",{src:imagePreview,alt:\"\\uC7A5\\uC18C \\uC774\\uBBF8\\uC9C0 \\uBBF8\\uB9AC\\uBCF4\\uAE30\",className:\"plan_image-preview\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"plan_upload-placeholder\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2795\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uC0AC\\uC9C4 \\uCD94\\uAC00\"})]})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleImageUpload,ref:fileInputRef,style:{display:'none'}})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn-create\",onClick:onCreate,children:\"\\uCD94\\uAC00\"})})]})});}","map":{"version":3,"names":["React","useEffect","useState","useRef","jsx","_jsx","jsxs","_jsxs","PlanModal","_ref","visible","onClose","onCreate","planName","setPlanName","description","setDescription","uploadedImage","setUploadedImage","imagePreview","setImagePreview","fileInputRef","triggerFileInput","current","click","handleImageUpload","e","file","target","files","size","alert","type","match","reader","FileReader","onload","event","result","readAsDataURL","className","onClick","children","stopPropagation","placeholder","value","onChange","rows","src","alt","accept","ref","style","display"],"sources":["C:/Users/username/Desktop/newweb/src/components/Modal.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\nimport './Modal.css';\n\nexport default function PlanModal({ visible, onClose, onCreate, planName, setPlanName, description, setDescription, uploadedImage, setUploadedImage, imagePreview, setImagePreview }) {\n  const fileInputRef = useRef(null);\n\n  if (!visible) return null;\n\n  // 이미지 업로드 버튼 클릭 핸들러\n  const triggerFileInput = () => {\n    fileInputRef.current.click();\n  };\n\n  // 이미지 선택 핸들러\n  const handleImageUpload = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      // 파일 크기 검사 (최대 5MB로 제한)\n      if (file.size > 5 * 1024 * 1024) {\n        alert('이미지 크기는 5MB 이하여야 합니다.');\n        return;\n      }\n\n      // 파일 타입 검사\n      if (!file.type.match('image.*')) {\n        alert('이미지 파일만 업로드 가능합니다.');\n        return;\n      }\n\n      // 이미지를 Base64로 인코딩\n      const reader = new FileReader();\n      reader.onload = (event) => {\n        setUploadedImage(event.target.result); // Base64 문자열 저장\n        setImagePreview(event.target.result); // 미리보기용 URL 설정\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  return (\n    <div className=\"modal-overlay\" onClick={onClose}>\n      <div className=\"modal\" onClick={e => e.stopPropagation()}>\n        {/* Header */}\n        <div className=\"modal-header\">\n          <h2>Add new plan</h2>\n          <button className=\"modal-close\" onClick={onClose}>\n            ⨉\n          </button>\n        </div>\n\n        {/* Body */}\n        <div className=\"modal-body\">\n          <label className=\"modal-label\">Name</label>\n          <div className=\"modal-input-group\">\n            <input\n              type=\"text\"\n              placeholder=\"이름\"\n              value={planName}\n              onChange={e => setPlanName(e.target.value)}\n            />\n          </div>\n\n          <label className=\"modal-label\">Descript</label>\n          <textarea\n            rows=\"4\"\n            placeholder=\"설명\"\n            value={description}\n            onChange={e => setDescription(e.target.value)}\n          />\n\n          {/* 이미지 업로드 섹션 */}\n          <div className=\"plan_image-upload-section\">\n            <div className=\"plan_image-preview-container\" onClick={triggerFileInput}>\n              {imagePreview ? (\n                <img src={imagePreview} alt=\"장소 이미지 미리보기\" className=\"plan_image-preview\" />\n              ) : (\n                <div className=\"plan_upload-placeholder\">\n                  <span>➕</span>\n                  <p>사진 추가</p>\n                </div>\n              )}\n            </div>\n            <input \n              type=\"file\" \n              accept=\"image/*\" \n              onChange={handleImageUpload} \n              ref={fileInputRef} \n              style={{ display: 'none' }} \n            />\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"modal-footer\">\n          <button className=\"btn-create\" onClick={onCreate}>\n            추가\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}