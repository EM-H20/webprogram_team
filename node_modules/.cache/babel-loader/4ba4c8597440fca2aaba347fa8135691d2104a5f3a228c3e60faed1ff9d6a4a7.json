{"ast":null,"code":"import _objectSpread from\"C:/Users/username/Desktop/newweb/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import'./Modal_edit.css';import ModalEditAdd from'./Modal_edit_add';import{DragDropContext,Droppable,Draggable}from'@hello-pangea/dnd';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function PlanModalEdit(_ref){let{visible,onClose,onEdit,placeList,setPlaceList,savedLocations}=_ref;const[isAddModalOpen,setAddModalOpen]=useState(false);// 드래그 앤 드롭 완료 시 순서 재정렬\nconst handleOnDragEnd=result=>{if(!result.destination)return;const items=Array.from(placeList);const[reorderedItem]=items.splice(result.source.index,1);items.splice(result.destination.index,0,reorderedItem);setPlaceList(items);};if(!visible)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"modal_edit_modal-overlay\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal_edit_modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal_edit_modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Edit Plan\"}),/*#__PURE__*/_jsx(\"button\",{className:\"modal_edit_modal-close\",onClick:onClose,children:\"\\u2A09\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal_edit_modal-body\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"modal_edit_modal-label\",children:\"Plan List\"}),/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:handleOnDragEnd,children:/*#__PURE__*/_jsx(Droppable,{droppableId:\"places\",children:provided=>/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({className:\"modal_edit_modal-input-group\"},provided.droppableProps),{},{ref:provided.innerRef,children:[placeList.map((placeId,index)=>{const place=savedLocations.find(loc=>loc.id===placeId);if(!place)return null;return/*#__PURE__*/_jsx(Draggable,{draggableId:String(place.id),index:index,children:provided=>/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread(_objectSpread({className:\"modal_edit_plan_card\",ref:provided.innerRef},provided.draggableProps),provided.dragHandleProps),{},{children:[/*#__PURE__*/_jsx(\"img\",{src:place.img||place.image||'',alt:place.name||place.title,className:\"modal_edit_plan_card__image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal_edit_plan_card__body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal_edit_plan_card__title\",children:/*#__PURE__*/_jsx(\"span\",{children:place.name||place.title})}),place.description&&/*#__PURE__*/_jsx(\"p\",{className:\"modal_edit_plan_card__desc\",children:place.description}),place.address&&/*#__PURE__*/_jsx(\"div\",{className:\"modal_edit_plan_card__address\",children:/*#__PURE__*/_jsx(\"span\",{children:place.address})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"modal_edit_plan_card__delete\",title:\"\\uC0AD\\uC81C\\uD558\\uAE30\",onClick:()=>setPlaceList(prev=>prev.filter(id=>id!==place.id)),children:\"\\xD7\"})]}))},place.id);}),provided.placeholder,/*#__PURE__*/_jsx(\"button\",{className:\"modal_edit_modal-edit_add-button\",onClick:()=>setAddModalOpen(true),children:\"+ \\uC7A5\\uC18C \\uCD94\\uAC00\"}),/*#__PURE__*/_jsx(ModalEditAdd,{visible:isAddModalOpen,onClose:()=>setAddModalOpen(false),savedLocations:savedLocations,onSelectPlace:id=>setPlaceList(prev=>[...prev,id])})]}))})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal_edit_modal-footer\",children:/*#__PURE__*/_jsx(\"button\",{className:\"modal_edit_btn-create\",onClick:onEdit,children:\"\\uC218\\uC815\"})})]})});}","map":{"version":3,"names":["React","useState","ModalEditAdd","DragDropContext","Droppable","Draggable","jsx","_jsx","jsxs","_jsxs","PlanModalEdit","_ref","visible","onClose","onEdit","placeList","setPlaceList","savedLocations","isAddModalOpen","setAddModalOpen","handleOnDragEnd","result","destination","items","Array","from","reorderedItem","splice","source","index","className","onClick","children","e","stopPropagation","onDragEnd","droppableId","provided","_objectSpread","droppableProps","ref","innerRef","map","placeId","place","find","loc","id","draggableId","String","draggableProps","dragHandleProps","src","img","image","alt","name","title","description","address","prev","filter","placeholder","onSelectPlace"],"sources":["C:/Users/username/Desktop/newweb/src/components/Modal_edit.js"],"sourcesContent":["import React, { useState } from 'react';\nimport './Modal_edit.css';\nimport ModalEditAdd from './Modal_edit_add';\nimport { DragDropContext, Droppable, Draggable } from '@hello-pangea/dnd';\n\nexport default function PlanModalEdit({ visible, onClose, onEdit, placeList, setPlaceList, savedLocations }) {\n  const [isAddModalOpen, setAddModalOpen] = useState(false);\n\n  // 드래그 앤 드롭 완료 시 순서 재정렬\n  const handleOnDragEnd = (result) => {\n    if (!result.destination) return;\n    const items = Array.from(placeList);\n    const [reorderedItem] = items.splice(result.source.index, 1);\n    items.splice(result.destination.index, 0, reorderedItem);\n    setPlaceList(items);\n  };\n\n  if (!visible) return null;\n\n  return (\n    <div className=\"modal_edit_modal-overlay\" onClick={onClose}>\n      <div className=\"modal_edit_modal\" onClick={e => e.stopPropagation()}>\n        {/* Header */}\n        <div className=\"modal_edit_modal-header\">\n          <h2>Edit Plan</h2>\n          <button className=\"modal_edit_modal-close\" onClick={onClose}>⨉</button>\n        </div>\n\n        {/* Body */}\n        <div className=\"modal_edit_modal-body\">\n          <label className=\"modal_edit_modal-label\">Plan List</label>\n          <DragDropContext onDragEnd={handleOnDragEnd}>\n            <Droppable droppableId=\"places\">\n              {(provided) => (\n                <div\n                  className=\"modal_edit_modal-input-group\"\n                  {...provided.droppableProps}\n                  ref={provided.innerRef}\n                >\n                  {placeList.map((placeId, index) => {\n                    const place = savedLocations.find(loc => loc.id === placeId);\n                    if (!place) return null;\n                    return (\n                      <Draggable key={place.id} draggableId={String(place.id)} index={index}>\n                        {(provided) => (\n                          <div\n                            className=\"modal_edit_plan_card\"\n                            ref={provided.innerRef}\n                            {...provided.draggableProps}\n                            {...provided.dragHandleProps}\n                          >\n                            <img\n                              src={place.img || place.image || ''}\n                              alt={place.name || place.title}\n                              className=\"modal_edit_plan_card__image\"\n                            />\n                            <div className=\"modal_edit_plan_card__body\">\n                              <div className=\"modal_edit_plan_card__title\">\n                                <span>{place.name || place.title}</span>\n                              </div>\n                              {place.description && (\n                                <p className=\"modal_edit_plan_card__desc\">{place.description}</p>\n                              )}\n                              {place.address && (\n                                <div className=\"modal_edit_plan_card__address\">\n                                  <span>{place.address}</span>\n                                </div>\n                              )}\n                            </div>\n                            <button\n                              className=\"modal_edit_plan_card__delete\"\n                              title=\"삭제하기\"\n                              onClick={() => setPlaceList(prev => prev.filter(id => id !== place.id))}\n                            >\n                              ×\n                            </button>\n                          </div>\n                        )}\n                      </Draggable>\n                    );\n                  })}\n                  {provided.placeholder}\n\n                  {/* 장소 추가 버튼 */}\n                  <button\n                    className=\"modal_edit_modal-edit_add-button\"\n                    onClick={() => setAddModalOpen(true)}\n                  >\n                    + 장소 추가\n                  </button>\n                  <ModalEditAdd\n                    visible={isAddModalOpen}\n                    onClose={() => setAddModalOpen(false)}\n                    savedLocations={savedLocations}\n                    onSelectPlace={id => setPlaceList(prev => [...prev, id])}\n                  />\n                </div>\n              )}\n            </Droppable>\n          </DragDropContext>\n        </div>\n\n        {/* Footer */}\n        <div className=\"modal_edit_modal-footer\">\n          <button className=\"modal_edit_btn-create\" onClick={onEdit}>수정</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"qHAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,kBAAkB,CACzB,MAAO,CAAAC,YAAY,KAAM,kBAAkB,CAC3C,OAASC,eAAe,CAAEC,SAAS,CAAEC,SAAS,KAAQ,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1E,cAAe,SAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAwE,IAAvE,CAAEC,OAAO,CAAEC,OAAO,CAAEC,MAAM,CAAEC,SAAS,CAAEC,YAAY,CAAEC,cAAe,CAAC,CAAAN,IAAA,CACzG,KAAM,CAACO,cAAc,CAAEC,eAAe,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAEzD;AACA,KAAM,CAAAmB,eAAe,CAAIC,MAAM,EAAK,CAClC,GAAI,CAACA,MAAM,CAACC,WAAW,CAAE,OACzB,KAAM,CAAAC,KAAK,CAAGC,KAAK,CAACC,IAAI,CAACV,SAAS,CAAC,CACnC,KAAM,CAACW,aAAa,CAAC,CAAGH,KAAK,CAACI,MAAM,CAACN,MAAM,CAACO,MAAM,CAACC,KAAK,CAAE,CAAC,CAAC,CAC5DN,KAAK,CAACI,MAAM,CAACN,MAAM,CAACC,WAAW,CAACO,KAAK,CAAE,CAAC,CAAEH,aAAa,CAAC,CACxDV,YAAY,CAACO,KAAK,CAAC,CACrB,CAAC,CAED,GAAI,CAACX,OAAO,CAAE,MAAO,KAAI,CAEzB,mBACEL,IAAA,QAAKuB,SAAS,CAAC,0BAA0B,CAACC,OAAO,CAAElB,OAAQ,CAAAmB,QAAA,cACzDvB,KAAA,QAAKqB,SAAS,CAAC,kBAAkB,CAACC,OAAO,CAAEE,CAAC,EAAIA,CAAC,CAACC,eAAe,CAAC,CAAE,CAAAF,QAAA,eAElEvB,KAAA,QAAKqB,SAAS,CAAC,yBAAyB,CAAAE,QAAA,eACtCzB,IAAA,OAAAyB,QAAA,CAAI,WAAS,CAAI,CAAC,cAClBzB,IAAA,WAAQuB,SAAS,CAAC,wBAAwB,CAACC,OAAO,CAAElB,OAAQ,CAAAmB,QAAA,CAAC,QAAC,CAAQ,CAAC,EACpE,CAAC,cAGNvB,KAAA,QAAKqB,SAAS,CAAC,uBAAuB,CAAAE,QAAA,eACpCzB,IAAA,UAAOuB,SAAS,CAAC,wBAAwB,CAAAE,QAAA,CAAC,WAAS,CAAO,CAAC,cAC3DzB,IAAA,CAACJ,eAAe,EAACgC,SAAS,CAAEf,eAAgB,CAAAY,QAAA,cAC1CzB,IAAA,CAACH,SAAS,EAACgC,WAAW,CAAC,QAAQ,CAAAJ,QAAA,CAC3BK,QAAQ,eACR5B,KAAA,OAAA6B,aAAA,CAAAA,aAAA,EACER,SAAS,CAAC,8BAA8B,EACpCO,QAAQ,CAACE,cAAc,MAC3BC,GAAG,CAAEH,QAAQ,CAACI,QAAS,CAAAT,QAAA,EAEtBjB,SAAS,CAAC2B,GAAG,CAAC,CAACC,OAAO,CAAEd,KAAK,GAAK,CACjC,KAAM,CAAAe,KAAK,CAAG3B,cAAc,CAAC4B,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACC,EAAE,GAAKJ,OAAO,CAAC,CAC5D,GAAI,CAACC,KAAK,CAAE,MAAO,KAAI,CACvB,mBACErC,IAAA,CAACF,SAAS,EAAgB2C,WAAW,CAAEC,MAAM,CAACL,KAAK,CAACG,EAAE,CAAE,CAAClB,KAAK,CAAEA,KAAM,CAAAG,QAAA,CAClEK,QAAQ,eACR5B,KAAA,OAAA6B,aAAA,CAAAA,aAAA,CAAAA,aAAA,EACER,SAAS,CAAC,sBAAsB,CAChCU,GAAG,CAAEH,QAAQ,CAACI,QAAS,EACnBJ,QAAQ,CAACa,cAAc,EACvBb,QAAQ,CAACc,eAAe,MAAAnB,QAAA,eAE5BzB,IAAA,QACE6C,GAAG,CAAER,KAAK,CAACS,GAAG,EAAIT,KAAK,CAACU,KAAK,EAAI,EAAG,CACpCC,GAAG,CAAEX,KAAK,CAACY,IAAI,EAAIZ,KAAK,CAACa,KAAM,CAC/B3B,SAAS,CAAC,6BAA6B,CACxC,CAAC,cACFrB,KAAA,QAAKqB,SAAS,CAAC,4BAA4B,CAAAE,QAAA,eACzCzB,IAAA,QAAKuB,SAAS,CAAC,6BAA6B,CAAAE,QAAA,cAC1CzB,IAAA,SAAAyB,QAAA,CAAOY,KAAK,CAACY,IAAI,EAAIZ,KAAK,CAACa,KAAK,CAAO,CAAC,CACrC,CAAC,CACLb,KAAK,CAACc,WAAW,eAChBnD,IAAA,MAAGuB,SAAS,CAAC,4BAA4B,CAAAE,QAAA,CAAEY,KAAK,CAACc,WAAW,CAAI,CACjE,CACAd,KAAK,CAACe,OAAO,eACZpD,IAAA,QAAKuB,SAAS,CAAC,+BAA+B,CAAAE,QAAA,cAC5CzB,IAAA,SAAAyB,QAAA,CAAOY,KAAK,CAACe,OAAO,CAAO,CAAC,CACzB,CACN,EACE,CAAC,cACNpD,IAAA,WACEuB,SAAS,CAAC,8BAA8B,CACxC2B,KAAK,CAAC,0BAAM,CACZ1B,OAAO,CAAEA,CAAA,GAAMf,YAAY,CAAC4C,IAAI,EAAIA,IAAI,CAACC,MAAM,CAACd,EAAE,EAAIA,EAAE,GAAKH,KAAK,CAACG,EAAE,CAAC,CAAE,CAAAf,QAAA,CACzE,MAED,CAAQ,CAAC,GACN,CACN,EAlCaY,KAAK,CAACG,EAmCX,CAAC,CAEhB,CAAC,CAAC,CACDV,QAAQ,CAACyB,WAAW,cAGrBvD,IAAA,WACEuB,SAAS,CAAC,kCAAkC,CAC5CC,OAAO,CAAEA,CAAA,GAAMZ,eAAe,CAAC,IAAI,CAAE,CAAAa,QAAA,CACtC,6BAED,CAAQ,CAAC,cACTzB,IAAA,CAACL,YAAY,EACXU,OAAO,CAAEM,cAAe,CACxBL,OAAO,CAAEA,CAAA,GAAMM,eAAe,CAAC,KAAK,CAAE,CACtCF,cAAc,CAAEA,cAAe,CAC/B8C,aAAa,CAAEhB,EAAE,EAAI/B,YAAY,CAAC4C,IAAI,EAAI,CAAC,GAAGA,IAAI,CAAEb,EAAE,CAAC,CAAE,CAC1D,CAAC,GACC,CACN,CACQ,CAAC,CACG,CAAC,EACf,CAAC,cAGNxC,IAAA,QAAKuB,SAAS,CAAC,yBAAyB,CAAAE,QAAA,cACtCzB,IAAA,WAAQuB,SAAS,CAAC,uBAAuB,CAACC,OAAO,CAAEjB,MAAO,CAAAkB,QAAA,CAAC,cAAE,CAAQ,CAAC,CACnE,CAAC,EACH,CAAC,CACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}